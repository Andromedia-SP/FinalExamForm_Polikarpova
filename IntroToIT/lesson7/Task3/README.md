# Sale_Bot

## Краткое описание
  Этот проект представляет собой телеграм-бот, который используется для 
  своевременного извещения пользователя о появившихся скидках на товары,
  которые могут его заинтересовать. Бот парсит различные сайты-агрегаторы,
  находит товары со скидками и, в случае совпадения с интересами 
  пользователя, отправляет уведомление.

## Инструкция по установке
  1. Сделайте Fork репозитория, ссылка будет предоставлена ниже.
  2. Скачайте созданный вами Fork репозитория.
  3. Перед запуском проверьте, чтобы были установлены следующие библиотеки:
     - telegrambotapi;
     - json;
     - os;
     - gazpacho;
     - youtubesearchpython;
  

## Инструкции по использованию
  1. Запустите файл Project_main.py, предварительно заменив токен бота на
    токен вашего бота в файле token.py.
  2. Найдите в Telegram вашего бота и начните с ним диалог.
  3. Автоматически будет создан файл users_data.json, который будет сохранять
    информацию об интересах пользователей. В дальнейшем планируется заменить
    на СУБД (SQLite, PortgreSQL или MySQL)

## Примеры кода
  
  1. Функция приветствия пользователя при первом использовании:
  ```python
  @bot.message_handler(commands=['start'])
  def bot_start(message):
    """
    Функция приветствия. При нажатии кнопки start бот отошлет
    сообщение - приветствие (строки 43 - 49), после чего запустит несколько 
    функций, чтобы узнать об интересах пользователя (строки 52 - 55)
    """

      global users_info
      bot.send_chat_action(message.chat.id, 'typing')
      bot.send_message(message.chat.id, f'Привет,'
      f' {message.from_user.first_name}, я - бот, который поможет тебе'
      f' найти самые выгодные цены на товары,'
      f'а также подскажет тебе telegram - каналы, основываясь на своих интересах.'
      f'Еще в меню вы сможете послушать музыку, которую я подберу.'
      f'Информация будет со временем обновляться автоматически, поэтому '
      f'не забывайте сюда заглядывать.')

      users_info.setdefault(str(message.chat.id), {})
      if len(users_info[str(message.chat.id)]) == 0:
          films(message)
      else:
          main_menu(message)
  ```

  2. Функция отправки коментария о работе бота:
  ```python
  def send_comment(message):
      """
      Эта функция позволяет отправить
      отзыв о боте(строки 69 - 76, 81 - 86), который сразу же 
      перешлется в чат разработчикам (строки 78-79).
      """

      if message.content_type == 'text':
          comment = message.text.capitalize()
          bot.send_message(message.chat.id, f'Вот ваш'
          f' комментарий:\n\n {comment}')

          users_info[str(message.chat.id)]['comment'] = comment
          with open('users_data.json', 'w') as file:
              json.dump(users_info, file, indent=4)

          bot.forward_message(chat_id=5182812730, from_chat_id=message.chat.id,
          message_id=message.message_id)

          main_menu(message)
      else:
          bot.send_message(message.chat.id, f'Комментарий'
          f'или отзыв должен состоять только из текста')

          main_menu(message)
  ```

## Авторы
  
  1. Сатлыков Санджар Станиславович 
  2. Назаренко Елизавета Игоревна 
    
    

## Лицензия
  Разрешено свободное использование бота не в комерческих целях.
  Все права зарегистрированы, любое использование,
  несогласованное с авторами проекта будет пресечено.
  
### Как внести изменения
  Если вы хотите внести изменения в проект,
  мы рады принять ваши пул-реквесты.
    
  1. Форкните исходный репозиторий.
  2. Создайте новую ветку.
  3. Внесите изменения и сделайте коммит.
  4. Опубликуйте изменения в свой репозиторий. 
  5. Создайте пул - реквест в этот репозиторий.

## Связь
### Контактные данные Сатлыков С. С:
  - Телефон: +79621739313
  - Эл. адрес: satlykovs@gmail.com
  
### Контактные данные Назаренко Е. И:
  - Телефон: + 79019935809
  - Эл. адрес: nazelko228@gmail.com
  